/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////// (APP) Add comment functionality //////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

MASTER_STATUS:
LOAD* Inline [
	 PC.Status Id, PC.Status
	 1, Active
	 2, Inactive
	 3, Deleted
	 ];


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//Load comments from the txt where are stored
QUALIFY *;
	C:
	LOAD *    
From $(vG.Sys.Path.QVD.Files)$(vG.Sys.Path.QVD.Layer1)$(vG.Sys.Path.Auxiliar.PROD)$(vG.Sys.Path.QVD.PROD.Comments)F_COMMENTS_ALL.qvd (qvd);
UNQUALIFY *;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//1.) Define input fields
INPUTFIELD [MC.Status Id], [MC.Comment];

F_Comments:
Noconcatenate 
Load *,
	 [C.Status Id]	AS [MC.Status Id]
	//, [C.Comment]	AS [MC.Comment]
Resident C
//Only comments that where not deleted and related to the current dashboard
WHERE [C.Status Id]<>3;

Drop Table C;